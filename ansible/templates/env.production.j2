# Service Mesh Benchmark - Production Environment Configuration
# Generated by Ansible on {{ ansible_date_time.iso8601 }}

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_PASSWORD={{ postgres_password }}
DATABASE_URL=postgresql://benchmark:{{ postgres_password }}@postgres:5432/service_mesh_benchmark

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_PASSWORD={{ redis_password }}
REDIS_URL=redis://:{{ redis_password }}@redis:6379/0
REDIS_ENABLED=true

# ============================================================================
# API Configuration
# ============================================================================
DEBUG=false
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO

# CORS Configuration
{% if domain_name %}
ALLOWED_ORIGINS={{ 'https' if use_ssl else 'http' }}://{{ domain_name }},{{ 'https' if use_ssl else 'http' }}://www.{{ domain_name }}
{% else %}
ALLOWED_ORIGINS=http://{{ ansible_host }}:3000,http://{{ ansible_host }}:8000
{% endif %}

# Security Configuration
SECRET_KEY={{ secret_key }}
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Security Headers
SECURITY_HEADERS_ENABLED=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# Frontend Configuration
# ============================================================================
{% if domain_name %}
API_URL={{ 'https' if use_ssl else 'http' }}://{{ domain_name }}
VITE_API_URL={{ 'https' if use_ssl else 'http' }}://{{ domain_name }}
{% else %}
API_URL=http://{{ ansible_host }}:8000
VITE_API_URL=http://{{ ansible_host }}:8000
{% endif %}

# ============================================================================
# Grafana Configuration
# ============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD={{ grafana_password }}
{% if domain_name %}
GRAFANA_URL={{ 'https' if use_ssl else 'http' }}://{{ domain_name }}:3001
{% else %}
GRAFANA_URL=http://{{ ansible_host }}:3001
{% endif %}

# ============================================================================
# Optional: Kubernetes Configuration
# ============================================================================
# KUBECONFIG=/path/to/kubeconfig

# ============================================================================
# Optional: Results and eBPF Configuration
# ============================================================================
# RESULTS_DIR=/app/benchmarks/results
# EBPF_PROBE_DIR=/app/src/probes/latency
